
@{

    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header" style="border-bottom: 4px solid #3A3B45;background: #3A3B45;color: white;text-align: center;">
                <h5 class="m-0 font-weight-bold centerHead"> Local Logistic Operation</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="chart">
                            <!-- Sales Chart Canvas -->
                            <div id="LogisticBarChart" style="height: 300px;"></div>
                        </div>
                        <!-- /.chart-responsive -->
                    </div>
                    <!-- /.col -->
                    <div class="col-md-4">
                        <div class="chart">
                            <!-- Sales Chart Canvas -->
                            <div id="LogisticPieChart" style="height: 300px;"></div>
                        </div>
                        <!-- /.progress-group -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>

        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-8">
       
            <!-- USERS LIST -->
            <div class="card">
               
                    <div class="card-header" style="border-bottom: 2px solid #3A3B45;background: #3A3B45;color: white;text-align: center;">
                        <h5 class="m-0 font-weight-bold centerHead">Latest Members</h5>
                    
                    
                    <div class="card-tools">

                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                            <i class="fas fa-minus" style="color:white;"></i>
                        </button>
                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                            <i class="fas fa-times" style="color:white;"></i>
                        </button>
                    </div>
                </div>
                <!-- /.card-header -->
                <div class="card-body p-0">
                    <ul class="users-list clearfix">
                        @*<li>
                            <img src="/AdminLte/dist/img/user1-128x128.jpg" alt="User Image">
                            <a id="name0" class="users-list-name" href="#"></a>
                            <span id="join0" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user8-128x128.jpg" alt="User Image">
                            <a id="name1" class="users-list-name" href="#"></a>
                            <span id="join1" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user7-128x128.jpg" alt="User Image">
                            <a id="name2" class="users-list-name" href="#"></a>
                            <span id="join2" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user6-128x128.jpg" alt="User Image">
                            <a id="name3" class="users-list-name" href="#"></a>
                            <span id="join3" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user1-128x128.jpg" alt="User Image">
                            <a id="name4" class="users-list-name" href="#"></a>
                            <span id="join4" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user8-128x128.jpg" alt="User Image">
                            <a id="name5" class="users-list-name" href="#"></a>
                            <span id="join5" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user7-128x128.jpg" alt="User Image">
                            <a id="name6" class="users-list-name" href="#"></a>
                            <span id="join6" class="users-list-date"></span>
                        </li>
                        <li>
                            <img src="/AdminLte/dist/img/user6-128x128.jpg" alt="User Image">
                            <a id="name7" class="users-list-name" href="#"></a>
                            <span id="join7" class="users-list-date"></span>
                        </li>*@
                    </ul>
                    <!-- /.users-list -->
                </div>
                <!-- /.card-body -->
                <div class="card-footer text-center">
                    <a href="javascript::">View All Users</a>
                </div>
            </div>
        
    </div>
    <div class="col-md-4">
        <div class="info-box mb-3 bg-warning">
            <span class="info-box-icon"><i class="fas fa-tag"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Inventory</span>
                <span class="info-box-number">5,200</span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
        <div class="info-box mb-3 bg-success">
            <span class="info-box-icon"><i class="fas fa-users"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Users</span>
                <span id="UserQuantity" class="info-box-number"></span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
        <div class="info-box mb-3 bg-danger">
  
            <span class="info-box-icon"><i class="fas fa-user"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Customers</span>
                <span id="CustomerQuantity" class="info-box-number"></span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
        <div class="info-box mb-3 bg-info">
            <span class="info-box-icon"><i class="fas fa-truck"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Drivers</span>
                <span id="DriverQuantity" class="info-box-number"></span>
            </div>
            <!-- /.info-box-content -->
        </div>
    </div>
</div>
            <script>
                
                    
  //                  $.getJSON("/Home/GetUserDetail", function (data) {
  //                      for (i = 0; i < 8; i++) {
  //                          /*var Dat = new Date(parseInt(data[i].Created_On.replace("/Date(", "").replace(")/", ""), 10));*/
  //                          const monthNames = ["January", "February", "March", "April", "May", "June",
  //"July", "August", "September", "October", "November", "December"
  //                          ];
  //                         /* document.getElementById("join" + i).textContent = Dat.getDate() + " " + monthNames[Dat.getMonth()];*/
  //                          document.getElementById("name" + i).innerHTML = data[i].UserName;
  //                      }
                        
  //                  });
               
                $(document).ready(function () {
                    var services = new Services();
                    services.getUserDetail(JSON.stringify({
                    })).then(function (response) {
                        console.log(response);
                        
                        for (i = 0; i < response.length; i++) {
                            $(".users-list").append('<li><img src = "/AdminLte/dist/img/Users.png"><a id="name' + i + '" class="users-list-name" href="#"></a><span id="join0" class="users-list-date"></span></img></li>');
                            /*var Dat = new Date(parseInt(data[i].Created_On.replace("/Date(", "").replace(")/", ""), 10));*/
                            const monthNames = ["January", "February", "March", "April", "May", "June",
  "July", "August", "September", "October", "November", "December"
                            ];
                           /* document.getElementById("join" + i).textContent = Dat.getDate() + " " + monthNames[Dat.getMonth()];*/
                            document.getElementById("name" + i).innerHTML = response[i].UserName;
                        }
                    });
                    $.getJSON("/Home/GetQuantityDetail", function (data) {
                        document.getElementById("UserQuantity").textContent = data.UserQuantity,
                        document.getElementById("DriverQuantity").textContent = data.DriverQuantity,
                        document.getElementById("CustomerQuantity").textContent = data.CustomerQuantity
                       
                    });
                });
                $(document).ready(function () {
                    $.getJSON("/Home/GetLogisticChart", function (data) {
                        Highcharts.chart('LogisticPieChart', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: 'Local Logistic'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            accessibility: {
                                point: {
                                    valueSuffix: '%'
                                }
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                    }
                                }
                            },
                            series: [{
                                name: 'Brands',
                                colorByPoint: true,
                                data: [{
                                    name: 'Transportation',
                                    y: data.Transportation

                                }, {
                                    name: 'LOLO',
                                    y: data.LOLO
                                }]
                            }]
                        });
                    });
                });


                $(document).ready(function () {
                    $.getJSON("/Home/GetLogisticChart", function (data) {
                        var dataPrev = {
                            2016: [
                                ['Transportation'],
                                ['LOLO']

                            ]
                        };

                        var data = {
                            2016: [
                                ['Tranportation', data.Transportation],
                                ['LOLO', data.LOLO]

                            ]
                        };

                        var countries = [{
                            name: 'Transportation',
                            flag: 197571,
                            color: 'rgb(215, 0, 38)'
                        }, {
                            name: 'LOLO',
                            flag: 197408,
                            color: 'rgb(0, 82, 180)'
                        }];


                        function getData(data) {
                            return data.map(function (country, i) {
                                return {
                                    name: country[0],
                                    y: country[1],
                                    color: countries[i].color
                                };
                            });
                        }

                        var chart = Highcharts.chart('LogisticBarChart', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: 'Local Logistic Bar Chart'
                            },
                            plotOptions: {
                                series: {
                                    grouping: false,
                                    borderWidth: 0
                                }
                            },
                            legend: {
                                enabled: false
                            },
                            tooltip: {
                                shared: true,
                                headerFormat: '<span style="font-size: 15px">{point.point.name}</span><br/>',
                                pointFormat: '<span style="color:{point.color}">\u25CF</span> <b>{point.y}'
                            },
                            xAxis: {
                                type: 'category',
                                max: 1,
                                labels: {
                                    useHTML: true,
                                    animate: true,
                                    formatter: function () {
                                        var value = this.value, output;

                                        countries.forEach(function (country) {
                                            if (country.name === value) {
                                                output = country.name;
                                            }
                                        });

                                        return '<span>' + value + '<br></span>';
                                    }
                                }
                            },
                            yAxis: [{
                                title: {
                                    text: 'Number Of Different Status'
                                },
                                showFirstLabel: false
                            }],
                            series: [{
                                name: '2016',
                                id: 'main',
                                dataSorting: {
                                    enabled: true,
                                    matchByName: true
                                },
                                dataLabels: [{
                                    enabled: true,
                                    inside: true,
                                    style: {
                                        fontSize: '16px'
                                    }
                                }],
                                data: getData(data[2016])
                            }],
                            exporting: {
                                allowHTML: true
                            }
                        });
                    });
                });
            </script>


            @*<script>
                $(document).ready(function () {
                    $.getJSON("/Home/GetChart", function (data) {
                        var dataPrev = {
                            2016: [
                                ['Pending'],
                                ['Approved'],
                                ['Rejected'],
                                ['Cancel']
                            ]
                        };

                        var data = {
                            2016: [
                                ['Pending', data.Pending],
                                ['Approved', data.Approved],
                                ['Rejected', data.Rejected],
                                ['Cancel', data.Cancel]
                            ]
                        };

                        var countries = [{
                            name: 'Pending',
                            flag: 197571,
                            color: 'rgb(215, 0, 38)'
                        }, {
                            name: 'Approved',
                            flag: 197408,
                            color: 'rgb(0, 82, 180)'
                        }, {
                            name: 'Rejected',
                            flag: 197375,
                            color: 'rgb(255, 217, 68)'
                        }, {
                            name: 'Cancel',
                            flag: 197374,
                            color: 'rgb(0, 82, 180)'
                        }];


                        function getData(data) {
                            return data.map(function (country, i) {
                                return {
                                    name: country[0],
                                    y: country[1],
                                    color: countries[i].color
                                };
                            });
                        }

                        var chart = Highcharts.chart('container', {
                            chart: {
                                type: 'column'
                            },
                            title: {
                                text: 'Daily Expense Bar Chart'
                            },
                            plotOptions: {
                                series: {
                                    grouping: false,
                                    borderWidth: 0
                                }
                            },
                            legend: {
                                enabled: false
                            },
                            tooltip: {
                                shared: true,
                                headerFormat: '<span style="font-size: 15px">{point.point.name}</span><br/>',
                                pointFormat: '<span style="color:{point.color}">\u25CF</span> <b>{point.y}'
                            },
                            xAxis: {
                                type: 'category',
                                max: 3,
                                labels: {
                                    useHTML: true,
                                    animate: true,
                                    formatter: function () {
                                        var value = this.value, output;

                                        countries.forEach(function (country) {
                                            if (country.name === value) {
                                                output = country.name;
                                            }
                                        });

                                        return '<span>' + output + '<br></span>';
                                    }
                                }
                            },
                            yAxis: [{
                                title: {
                                    text: 'Number Of Different Status'
                                },
                                showFirstLabel: false
                            }],
                            series: [{
                                name: '2016',
                                id: 'main',
                                dataSorting: {
                                    enabled: true,
                                    matchByName: true
                                },
                                dataLabels: [{
                                    enabled: true,
                                    inside: true,
                                    style: {
                                        fontSize: '16px'
                                    }
                                }],
                                data: getData(data[2016])
                            }],
                            exporting: {
                                allowHTML: true
                            }
                        });
                    });
                });

                $(document).ready(function () {
                    $.getJSON("/Home/GetChart", function (data) {
                        Highcharts.chart('salesChart', {
                            chart: {
                                plotBackgroundColor: null,
                                plotBorderWidth: null,
                                plotShadow: false,
                                type: 'pie'
                            },
                            title: {
                                text: 'Daily Expense'
                            },
                            tooltip: {
                                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                            },
                            accessibility: {
                                point: {
                                    valueSuffix: '%'
                                }
                            },
                            plotOptions: {
                                pie: {
                                    allowPointSelect: true,
                                    cursor: 'pointer',
                                    dataLabels: {
                                        enabled: true,
                                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                    }
                                }
                            },
                            series: [{
                                name: 'Brands',
                                colorByPoint: true,
                                data: [{
                                    name: 'Pending',
                                    y: data.Pending

                                }, {
                                    name: 'Approved',
                                    y: data.Approved
                                }, {
                                    name: 'Cancel',
                                    y: data.Cancel
                                }, {
                                    name: 'Rejected',
                                    y: data.Rejected
                                }]
                            }]
                        });
                    });
                });

            </script>*@
